;(function(a,b){function e(a){var b=typeof a;if(b==="object"){if(a){if(typeof a.length==="number"&&!a.propertyIsEnumerable("length")&&typeof a.splice==="function"){b="array"}}else{b="null"}}return b}var c=a(b),d=false;var f='\n    <div class="ui-switch">                                 \n\n      <div class="ui-switch-mask">                          \n\n        <div class="ui-switch-master">                      \n\n          <div class="ui-switch-upper">                     \n\n            <span class="ui-switch-handle"></span>          \n\n          </div>                                            \n\n          <div class="ui-switch-lower">                     \n\n            <div class="ui-switch-labels">                  \n\n              <a href="#" class="ui-switch-on">{{on}}</a>   \n\n              <a href="#" class="ui-switch-off">{{off}}</a> \n\n            </div>                                          \n\n          </div>                                            \n\n        </div>                                              \n\n      </div>                                                \n\n      <div class="ui-switch-middle"></div>                  \n\n    </div>';c.bind("mousedown",function(a){if(a.which<=1&&!a.metaKey&&!a.shiftKey&&!a.altKey&&!a.ctrlKey){d=true}}).bind("mouseup",function(a){d=false});c.bind("mouseup touchend",function(){a(".ui-switch[data-dragging=true]").each(function(b,c){$switch=a(c);controls=$switch.data("controls");if(!$switch.data("animating")){if($switch.find(".ui-switch-handle").offset().left+15>$switch.data("center").left){controls.on()}else{controls.off()}}})});var g={build:function(b,c){b.hide();b.attr("tabindex","-1");var e=b.find("option"),g=b.val(),h=!!b.attr("disabled");var i={on:c.on||e.first().val(),off:c.off||e.last().val()},j={on:e.filter("[value="+i.on+"]").text(),off:e.filter("[value="+i.off+"]").text()};var k=a(f.replace("{{on}}",j.on).replace("{{off}}",j.off));k.addClass(b.val()==i.on?"on":"off");if(h){k.addClass("disabled")}var l=k.find(".ui-switch-master"),m=k.find(".ui-switch-handle");k.insertAfter(b);var n=k.find("a").map(function(b,c){return a(c).width()}),o=Math.max(n[0],n[1]);k.find(".ui-switch-middle").width(o+43);k.find("a").width(o);var p="-"+(o+21)+"px",q="-2px";l.css({left:p});m.css({left:o+16+"px"});if(i.on==g){l.css({left:q})}b.data("switch",k);k.data("select",b);k.data("animating",false).attr("data-dragging","false");k.data("offset",k.offset()).data("dimensions",{width:k.width(),height:k.height()}).data("center",{left:k.data("offset").left+k.data("dimensions").width/2,top:k.data("offset").top+k.data("dimensions").height/2});var r=k.data("controls",{on:function(){if(!h){k.trigger("slide:on");return k}},off:function(){if(!h){k.trigger("slide:off");return k}},toggle:function(){if(!h){k.trigger("slide:"+(b.val()==i.on?"off":"on"))}return k}})&&k.data("controls");b.bind("change",function(){d=false;r[b.val()==i.on?"on":"off"]()});k.attr("tabindex","0").bind("keyup",function(a){if(a.which===13){r.toggle()}});k.find("a").attr("tabindex","-1");k.bind("mouseup touchend",function(b){b.preventDefault();if(!a(b.target).is(".ui-switch-handle")){r.toggle()}});k.bind("mousedown touchstart",function(a){a.preventDefault();var b,c;if(a.type=="touchstart"){b=a.originalEvent.targetTouches[0].pageX;c=a.originalEvent.targetTouches[0].pageY}else{b=a.pageX;c=a.pageY}var d=parseInt(l.css("left")),e=k.data("offset").left+d,f=e-b;k.data("modifier",f)});k.bind("mouseleave touchcancel",function(a){if(!k.data("animating")){if(k.find(".ui-switch-handle").offset().left+15>k.data("center").left){r.on()}else{r.off()}}});k.bind("mousemove touchmove",function(a){a.preventDefault();if(!h&&(a.type=="touchmove"||d)){k.attr("data-dragging","true");var b,c;if(a.type=="touchmove"){b=a.originalEvent.targetTouches[0].pageX;c=a.originalEvent.targetTouches[0].pageY}else{b=a.pageX;c=a.pageY}var e=k.data("offset"),f=k.data("dimensions"),g=k.data("center");var i=b+k.data("modifier"),j=e.left-(o+35);if(i>j+18&&i<=j-19+f.width){l.offset({left:i})}}});k.bind("slide:on",function(){k.data("animating",true).attr("data-dragging","false");l.stop().animate({left:q},"fast",function(){k.data("animating",false).data("select").val(i.on);k.removeClass("off").addClass("on")})});k.bind("slide:off",function(){k.data("animating",true).attr("data-dragging","false");l.stop().animate({left:p},"fast",function(){k.data("animating",false).data("select").val(i.off);k.removeClass("on").addClass("off")})});return b},update:function(a,b){var c=a.data("switch");var d=c.find(".ui-switch-master"),e=c.find(".ui-switch-handle");c.data("offset",c.offset()).data("dimensions",{width:c.width(),height:c.height()}).data("center",{left:c.data("offset").left+c.data("dimensions").width/2,top:c.data("offset").top+c.data("dimensions").height/2});return a}};a.fn.switchify=function(b){this.each(function(c,d){var e=a(d);if(b!="update"&&e.data("switch")){return}g[b=="update"?"update":"build"](e,b||{})});return this}})(jQuery,window.document);